<div class="profile-container">
    <h1>{{title}}</h1>
    <p class="subtitle">Update your borough, neighborhood, age, and profile description.</p>

    {{#if query.success}}
        <div class="message-box success">Profile updated successfully!</div>
    {{/if}}

    {{#if hasErrors}}
        <div class="message-box error">
            <p>Errors occurred during update:</p>
            <ul>{{#each errors}}<li>{{this}}</li>{{/each}}</ul>
        </div>
    {{/if}}

    <form action="/profile" method="POST" class="auth-form">
        <div class="form-group">
            <label for="borough">Borough</label>
            <select id="borough" name="borough" required>
                <option value="">Select your borough</option>
                <option value="Manhattan" {{#if (eq user.borough "Manhattan")}}selected{{/if}}>Manhattan</option>
                <option value="Brooklyn" {{#if (eq user.borough "Brooklyn")}}selected{{/if}}>Brooklyn</option>
                <option value="Queens" {{#if (eq user.borough "Queens")}}selected{{/if}}>Queens</option>
                <option value="Bronx" {{#if (eq user.borough "Bronx")}}selected{{/if}}>Bronx</option>
                <option value="Staten Island" {{#if (eq user.borough "Staten Island")}}selected{{/if}}>Staten Island</option>
            </select>
        </div>

        <div class="form-group">
            <label for="neighborhood">Neighborhood</label>
            <input type="text" id="neighborhood" name="neighborhood" value="{{user.neighborhood}}" placeholder="Example: Williamsburg" required>
        </div>

        <div class="form-group">
            <label for="age">Age</label>
            <input type="number" id="age" name="age" value="{{user.age}}" required min="18" max="120">
        </div>

        <div class="form-group">
            <label for="profileDescription">Profile Description</label>
            <textarea id="profileDescription" name="profileDescription" rows="5" maxlength="500" required>{{user.profileDescription}}</textarea>
            <small>Max 500 characters.</small>
        </div>

        <button type="submit" class="button primary">Update Profile</button>
    </form>

    <p class="back-link"><a href="/home">‚Üê Back to Home</a></p>
</div>
